(window.webpackJsonp=window.webpackJsonp||[]).push([[157],{521:function(s,n,a){"use strict";a.r(n);var e=a(14),t=Object(e.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"_2-2-configconstant"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-configconstant"}},[s._v("#")]),s._v(" 2.2 configConstant")]),s._v(" "),n("h3",{attrs:{id:"_1、常用配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1、常用配置"}},[s._v("#")]),s._v(" 1､常用配置")]),s._v(" "),n("p",[s._v("此方法用来配置JFinal常量值，如开发模式常量devMode的配置，如下代码是一些常用的配置：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('public void configConstant(Constants me) {\n    // 配置开发模式，true 值为开发模式\n    me.setDevMode(true);\n    \n    // 配置 aop 代理使用 cglib，否则将使用 jfinal 默认的动态编译代理方案\n    me.setToCglibProxyFactory();\n    \n    // 配置依赖注入\n    me.setInjectDependency(true);\n    \n    // 配置依赖注入时，是否对被注入类的超类进行注入\n    me.setInjectSuperClass(false);\n    \n    // 配置为 slf4j 日志系统，否则默认将使用 log4j\n    // 还可以通过 me.setLogFactory(...) 配置为自行扩展的日志系统实现类\n    me.setToSlf4jLogFactory();\n    \n    // 设置 Json 转换工厂实现类，更多说明见第 12 章\n    me.setJsonFactory(new MixedJsonFactory());\n    \n    // 配置视图类型，默认使用 jfinal enjoy 模板引擎\n    me.setViewType(ViewType.JFINAL_TEMPLATE);\n    \n    // 配置基础下载路径，默认为 webapp 下的 download\n    me.setBaseDownloadPath(...);\n    \n    // 配置基础上传路径，默认为 webapp 下的 upload\n    me.setBaseUploadPath(...);\n    \n    // 配置 404、500 页面\n    me.setError404View("/common/404.html");\n    me.setError500View("/common/500.html");\n    \n    // 开启解析 json 请求，5.0.0 版本新增功能\n    me.setResolveJsonRequest(true);\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br")])]),n("p",[s._v("在开发模式下，JFinal会对每次请求输出报告，如输出本次请求的URL、Controller、Method以及请求所携带的参数。")]),s._v(" "),n("p",[s._v("2､其它配置\n其它配置：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('public void configConstant(Constants me) {\n    // 配置 encoding，默认为 UTF8\n    me.setEncoding("UTF8");\n    \n    // 配置 json 转换 Date 类型时使用的 data parttern\n    me.setJsonDatePattern("yyyy-MM-dd HH:mm");\n    \n    // 配置是否拒绝访问 JSP，是指直接访问 .jsp 文件，与 renderJsp(xxx.jsp) 无关\n    me.setDenyAccessJsp(true);\n    \n    // 配置上传文件最大数据量，默认 10M\n    me.setMaxPostSize(10 * 1024 * 1024);\n    \n    // 配置验证码缓存 cache，配置成集中共享缓存可以支持分布式与集群\n    me.setCaptchaCache(...);\n    \n    // 配置 urlPara 参数分隔字符，默认为 "-"\n    me.setUrlParaSeparator("-");\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);