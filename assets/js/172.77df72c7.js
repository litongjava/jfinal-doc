(window.webpackJsonp=window.webpackJsonp||[]).push([[172],{536:function(e,t,a){"use strict";a.r(t);var s=a(14),n=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"_3-5-getbean-getmodel-系列"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-getbean-getmodel-系列"}},[e._v("#")]),e._v(" 3.5 getBean & getModel 系列")]),e._v(" "),t("p",[e._v("getModel 用来接收页面表单域传递过来的model对象，表单域名称以”modelName.attrName”方式命名，getModel使用的attrName必须与数据表字段名完全一样。")]),e._v(" "),t("p",[e._v("getBean 方法用于支持传统Java Bean，包括支持使用jfinal生成器生成了getter、setter方法的Model，页面表单传参时使用与setter方法相一致的attrName，而非数据表字段名。")]),e._v(" "),t("p",[e._v("getModel与getBean区别在于前者使用数据库表字段名而后者使用与setter方法一致的属性名进行数据注入。建议优先使用getBean方法。")]),e._v(" "),t("p",[e._v("以下是一个简单的示例：")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// 定义Model，在此为Blog\npublic class Blog extends Model<Blog> {\n    \n}\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// 在页面表单中采用modelName.attrName形式为作为表单域的name\n<form action="/blog/save" method="post">\n  <input name="blog.title" type="text">\n  <input name="blog.content" type="text">\n  <input value="提交" type="submit">\n</form>\n')])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('public class BlogController extends Controller {\n  public void save() {\n    // 页面的modelName正好是Blog类名的首字母小写\n    Blog blog = getModel(Blog.class);\n \n    // 如果表单域的名称为 "otherName.title"可加上一个参数来获取\n    blog = getModel(Blog.class, "otherName");\n  }\n}\n')])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br")])]),t("p",[e._v('上面代码中，表单域采用了 "blog.title"、"blog.content" 作为表单域的name属性，"blog" 是类文件名称 "Blog" 的首字母变小写， "title" 是blog数据库表的title字段，如果希望表单域使用任意的modelName，只需要在getModel时多添加一个参数来指定，例如：getModel(Blog.class, "otherName")。')]),e._v(" "),t("p",[e._v('如果希望传参时避免使用modelName前缀，可以使用空串作为modelName来实现：getModel(Blog.class, ""); 这对开发纯API项目非常有用。（getBean 同样适用）')]),e._v(" "),t("p",[e._v("如果希望在接收时跳过数据转换或者属性名错误异常可以传入true参：getBean(…, true)")])])}),[],!1,null,null,null);t.default=n.exports}}]);