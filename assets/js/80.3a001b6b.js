(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{434:function(e,s,a){"use strict";a.r(s);var t=a(14),n=Object(t.a)({},(function(){var e=this,s=e._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"_4-4-clear"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-clear"}},[e._v("#")]),e._v(" 4.4 Clear")]),e._v(" "),s("p",[e._v("Interceptors are divided into four levels from top to bottom: Global, Routes, Class, and Method. Clear is used to remove interceptors from the level where it is located and all higher levels.")]),e._v(" "),s("p",[e._v("When Clear is declared at the Method level, it will clear the interceptors at the Global, Routes, and Class levels. When declared at the Class level, it will clear the interceptors at the Global and Routes levels. When the Clear annotation carries parameters, it clears the specified interceptors in the target level.")]),e._v(" "),s("p",[e._v("Tips to remember Clear usage:")]),e._v(" "),s("ul",[s("li",[e._v("There are four levels of interceptors: Global, Routes, Class, and Method.")]),e._v(" "),s("li",[e._v("Clearing only targets all higher levels from where Clear is declared, without affecting the current and lower levels.")]),e._v(" "),s("li",[e._v("When no parameters are provided, all interceptors are cleared. When parameters are present, the specified interceptors are cleared.")])]),e._v(" "),s("p",[e._v("In certain application scenarios, it's necessary to remove Global or Class interceptors. For instance, in a backend management system that has a global authorization interceptor, the login action must clear it to complete the login process. Here's a code example:")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("// The login method needs to remove this authorization interceptor to log in properly.\n@Before(AuthInterceptor.class)\npublic class UserController extends Controller {\n    // AuthInterceptor has been cleared by Clear, so it won't be intercepted.\n    @Clear\n    public void login() {\n    }\n    \n    // This method will be intercepted by AuthInterceptor.\n    public void show() {\n    }\n}\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br")])]),s("p",[e._v("When the Clear annotation has parameters, it can clear specified interceptors. Below is a more comprehensive example:")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("@Before(AAA.class)\npublic class UserController extends Controller {\n  @Clear\n  @Before(BBB.class)\n  public void login() {\n     // Global and Class level interceptors will be cleared, but BBB declared on this method remains unaffected.\n  }\n \n  @Clear({AAA.class, CCC.class})// Clear specified interceptors AAA and CCC.\n  @Before(CCC.class)\n  public void show() {\n     // Although CCC is specified to be cleared in the Clear annotation, it cannot be cleared because the clear operation targets only the higher levels.\n  }\n}\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br")])]),s("p",[e._v("The above clear operations were used on methods, but they can also be applied to classes. For example:")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("@Clear(AAA.class)\npublic class UserController {\n   public void index() {\n      ...\n   }\n}\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br")])]),s("p",[e._v("As shown above, @Clear(AAA.class) will clear the AAA.java interceptor that's configured in the higher layers, namely Global and Route.")])])}),[],!1,null,null,null);s.default=n.exports}}]);