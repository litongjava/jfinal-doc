(window.webpackJsonp=window.webpackJsonp||[]).push([[215],{579:function(e,a,s){"use strict";s.r(a);var t=s(14),n=Object(t.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"_7-4-evictinterceptor"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-4-evictinterceptor"}},[e._v("#")]),e._v(" 7.4 EvictInterceptor")]),e._v(" "),a("p",[e._v("EvictInterceptor可以根据CacheName注解自动清除缓存。以下是示例代码：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('@Before(EvictInterceptor.class)\n@CacheName("blogList")\npublic void update() {\n    getModel(Blog.class).update();\n    redirect("blog.html");\n}\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br")])]),a("p",[e._v("上例中的用法将清除cacheName为blogList的缓存数据，与其配合的CacheInterceptor会自动更新cacheName为blogList的缓存数据。")]),e._v(" "),a("p",[e._v("jfinal 3.6 版本支持 @CacheName 参数使用逗号分隔多个 cacheName，方便针对多个 cacheName 进行清除，例如：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('@Before(EvictInterceptor.class)\n@CacheName("blogList, hotBlogList")   // 逗号分隔多个 cacheName\npublic void update() {\n   ...\n}\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);