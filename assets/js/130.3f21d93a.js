(window.webpackJsonp=window.webpackJsonp||[]).push([[130],{481:function(n,a,s){"use strict";s.r(a);var e=s(14),t=Object(e.a)({},(function(){var n=this,a=n._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[a("h1",{attrs:{id:"_1-2-jfinal-undertow-下开发"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-jfinal-undertow-下开发"}},[n._v("#")]),n._v(" 1.2 jfinal-undertow 下开发")]),n._v(" "),a("h3",{attrs:{id:"_1、创建标准的-maven-项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、创建标准的-maven-项目"}},[n._v("#")]),n._v(" 1、创建标准的 maven 项目")]),n._v(" "),a("p",[n._v("eclipse 主菜单选择 new，再选择 project")]),n._v(" "),a("p",[a("img",{attrs:{src:"/jfinal-doc/1.2/1_20181130133401.png",alt:"maven-new-project.png"}})]),n._v(" "),a("p",[n._v("在弹出的窗口中选择 Maven Project，点击 next 按钮进入下一步")]),n._v(" "),a("p",[a("img",{attrs:{src:"/jfinal-doc/1.2/1_20181130133413.png",alt:"maven-create-project.png"}})]),n._v(" "),a("p",[n._v("在接下来的窗口中勾选 Use default Wrokspace location 点击 next 进入下一步")]),n._v(" "),a("p",[a("img",{attrs:{src:"/jfinal-doc/1.2/1_20181130133824.png",alt:"maven-default-workspace.png"}})]),n._v(" "),a("p",[n._v('在接下来的窗口中的 Filter 栏输入 "webapp"，选择 org.apache.maven.archetypes maven-archetype-webapp 1.0，点击 next 进入下一步')]),n._v(" "),a("p",[a("img",{attrs:{src:"/jfinal-doc/1.2/1_20181130134209.png",alt:"maven-webapp.png"}})]),n._v(" "),a("p",[n._v("在接下来的窗口中输入 Group Id 以及 Artifact Id，点击 finish 完成项目的创建")]),n._v(" "),a("p",[a("img",{attrs:{src:"/jfinal-doc/1.2/1_20181130134402.png",alt:"maven-finish.png"}})]),n._v(" "),a("p",[n._v("创建创建完成后，最终的目录结构如下")]),n._v(" "),a("p",[a("img",{attrs:{src:"/jfinal-doc/1.2/1_20181130134715.png",alt:"maven-project-struct.png"}})]),n._v(" "),a("p",[n._v('注意：在某些低版本的 eclipse 中，项目创建完成后，在 main 目录下面会缺少 "java" 这个目录，只需要在资源管理器里面手动创建该目录即可')]),n._v(" "),a("h3",{attrs:{id:"_2、添加-jfinal-undertow-与-jfinal-依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、添加-jfinal-undertow-与-jfinal-依赖"}},[n._v("#")]),n._v(" 2、添加 jfinal-undertow 与 jfinal 依赖")]),n._v(" "),a("p",[n._v("打开 pom.xml 文件，在其中添加如下依赖")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("<dependency>\n    <groupId>com.jfinal</groupId>\n    <artifactId>jfinal-undertow</artifactId>\n    <version>3.5</version>\n</dependency>\n \n<dependency>\n    <groupId>com.jfinal</groupId>\n    <artifactId>jfinal</artifactId>\n    <version>5.1.2</version>\n</dependency>\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br")])]),a("p",[n._v("如果需要 WebSocket 支持，再添加一个依赖，不开发 WebSocket 无需理会")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("<dependency>\n    <groupId>io.undertow</groupId>\n    <artifactId>undertow-websockets-jsr</artifactId>\n    <version>2.2.24.Final</version>\n</dependency>\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br")])]),a("h3",{attrs:{id:"_3、添加-java-文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、添加-java-文件"}},[n._v("#")]),n._v(" 3、添加 java 文件")]),n._v(" "),a("p",[n._v("在项目 src/main/java 目录下创建demo包，并在 demo 包下创建 DemoConfig 文件")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('package demo;\n \nimport com.jfinal.config.*;\nimport com.jfinal.template.Engine;\nimport com.jfinal.server.undertow.UndertowServer;\n \npublic class DemoConfig extends JFinalConfig {\n \n    /**\n     * 注意：用于启动的 main 方法可以在任意 java 类中创建，在此仅为方便演示\n     *      才将 main 方法放在了 DemoConfig 中\n     *\n     *      开发项目时，建议新建一个 App.java 或者 Start.java 这样的专用\n     *      启动入口类放置用于启动的 main 方法\n     */\n    public static void main(String[] args) {\n        UndertowServer.start(DemoConfig.class, 80, true);\n    }\n \n    public void configConstant(Constants me) {\n       me.setDevMode(true);\n    }\n    \n    public void configRoute(Routes me) {\n       // jfinal 4.9.03 版新增了路由扫描功能，不必手动添加路由\n       // me.add("/hello", HelloController.class);\n       \n       // 使用路由扫描，参数 "demo." 表示只扫描 demo 包及其子包下的路由\n       me.scan("demo.");\n    }\n    \n    public void configEngine(Engine me) {}\n    public void configPlugin(Plugins me) {}\n    public void configInterceptor(Interceptors me) {}\n    public void configHandler(Handlers me) {}\n}\n')])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br"),a("span",{staticClass:"line-number"},[n._v("15")]),a("br"),a("span",{staticClass:"line-number"},[n._v("16")]),a("br"),a("span",{staticClass:"line-number"},[n._v("17")]),a("br"),a("span",{staticClass:"line-number"},[n._v("18")]),a("br"),a("span",{staticClass:"line-number"},[n._v("19")]),a("br"),a("span",{staticClass:"line-number"},[n._v("20")]),a("br"),a("span",{staticClass:"line-number"},[n._v("21")]),a("br"),a("span",{staticClass:"line-number"},[n._v("22")]),a("br"),a("span",{staticClass:"line-number"},[n._v("23")]),a("br"),a("span",{staticClass:"line-number"},[n._v("24")]),a("br"),a("span",{staticClass:"line-number"},[n._v("25")]),a("br"),a("span",{staticClass:"line-number"},[n._v("26")]),a("br"),a("span",{staticClass:"line-number"},[n._v("27")]),a("br"),a("span",{staticClass:"line-number"},[n._v("28")]),a("br"),a("span",{staticClass:"line-number"},[n._v("29")]),a("br"),a("span",{staticClass:"line-number"},[n._v("30")]),a("br"),a("span",{staticClass:"line-number"},[n._v("31")]),a("br"),a("span",{staticClass:"line-number"},[n._v("32")]),a("br"),a("span",{staticClass:"line-number"},[n._v("33")]),a("br"),a("span",{staticClass:"line-number"},[n._v("34")]),a("br"),a("span",{staticClass:"line-number"},[n._v("35")]),a("br"),a("span",{staticClass:"line-number"},[n._v("36")]),a("br")])]),a("p",[n._v("在 demo 包下创建 HelloController 类文件， 内容如下：")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('package demo;\nimport com.jfinal.core.Controller;\n \n@Path("/hello")\npublic class HelloController extends Controller {\n    public void index() {\n       renderText("Hello JFinal World.");\n    }\n}\n')])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br")])]),a("p",[n._v("jfinal 4.9.03 新增了路由扫描功能，详情请见：https://jfinal.com/doc/2-3")]),n._v(" "),a("h3",{attrs:{id:"_4、启动项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、启动项目"}},[n._v("#")]),n._v(" 4、启动项目")]),n._v(" "),a("p",[n._v("在 DemoConfig 类文件上点击鼠标右键，选择 Debug As，再选择 Java Applidation 即可运行\n"),a("img",{attrs:{src:"/jfinal-doc/1.2/1_20181130141600.png",alt:"maven-run.png"}})]),n._v(" "),a("h3",{attrs:{id:"_5、开启浏览器看效果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、开启浏览器看效果"}},[n._v("#")]),n._v(" 5、开启浏览器看效果")]),n._v(" "),a("p",[n._v("打开浏览器在地址栏中输入: http://localhost/hello，输出内容为Hello JFinal World证明项目框架搭建完成")]),n._v(" "),a("p",[n._v("完整 demo示例 可在JFinal官方网站首页右侧下载：http://www.jfinal.com")]),n._v(" "),a("p",[n._v("注意：jfinal-undertow 默认不支持 JSP，强烈建议使用 jfinal 默认的模板引擎 enjoy，谁用谁爽翻。")]),n._v(" "),a("p",[n._v("如果一定要使用 JSP，可以参考文档 1.5 章节最后面的《JSP支持问题》：https://jfinal.com/doc/1-5，或者使用 jetty-server 作为开发环境：https://jfinal.com/doc/1-6")])])}),[],!1,null,null,null);a.default=t.exports}}]);