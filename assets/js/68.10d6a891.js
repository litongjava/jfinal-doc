(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{433:function(e,t,a){"use strict";a.r(t);var s=a(14),n=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"_3-12-keep-series-methods"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-12-keep-series-methods"}},[e._v("#")]),e._v(" 3.12 keep series methods")]),e._v(" "),t("p",[e._v("In web development, especially when working with forms, there are often scenarios where a form is submitted with incomplete or incorrect data. In such cases, it's a good user experience to show the form back to the user with the data they had entered, so they can correct or complete the form without having to fill in everything from scratch. JFinal provides the "),t("code",[e._v("keep")]),e._v(" series methods to facilitate this.")]),e._v(" "),t("h3",{attrs:{id:"_1-keeppara"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-keeppara"}},[e._v("#")]),e._v(" 1. "),t("code",[e._v("keepPara")]),e._v(":")]),e._v(" "),t("p",[e._v("The "),t("code",[e._v("keepPara")]),e._v(" method retains the values of form fields when the form is redisplayed:")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("To keep all form fields:")]),e._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("keepPara")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])])]),e._v(" "),t("li",[t("p",[e._v("To specify which form fields to keep:")]),e._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("keepPara")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"nickName"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"email"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])])])]),e._v(" "),t("p",[e._v("Without any arguments, "),t("code",[e._v("keepPara()")]),e._v(" retains all form fields. The kept parameters are returned to the page as "),t("code",[e._v("String")]),e._v(" type. However, if you need to maintain the type of a form field, you can do so as follows:")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("To keep the type as "),t("code",[e._v("Date")]),e._v(":")]),e._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("keepPara")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("Date")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"createAt"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])])]),e._v(" "),t("li",[t("p",[e._v("To keep the type as "),t("code",[e._v("Integer")]),e._v(":")]),e._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("keepPara")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("Integer")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"age"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])])])]),e._v(" "),t("p",[e._v("The benefit of specifying the type is that, when these kept values are used in view templates (like Enjoy templates), they can be treated as their respective types without any type conversion.")]),e._v(" "),t("h3",{attrs:{id:"_2-keepmodel-and-keepbean"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-keepmodel-and-keepbean"}},[e._v("#")]),e._v(" 2. "),t("code",[e._v("keepModel")]),e._v(" and "),t("code",[e._v("keepBean")]),e._v(":")]),e._v(" "),t("p",[t("code",[e._v("keepModel")]),e._v(" is used to retain form fields that are prefixed with a modelName:")]),e._v(" "),t("div",{staticClass:"language-html line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-html"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("input")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("blog.title"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),e._v("   "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("value")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("#(blog.title ??)"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("/>")])]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("input")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("blog.content"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),e._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("value")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("#(blog.content ??)"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("/>")])]),e._v("\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br")])]),t("p",[e._v("In the above HTML form, the fields are prefixed with "),t("code",[e._v("blog")]),e._v(", which corresponds to a model. When the form is submitted, you'd typically use "),t("code",[e._v("getModel")]),e._v(" to bind the form data to a "),t("code",[e._v("Blog")]),e._v(" model. If the submitted data has errors or is incomplete, you can use "),t("code",[e._v("keepModel")]),e._v(" to retain the form values:")]),e._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("keepModel")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("Blog")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[t("code",[e._v("keepBean")]),e._v(" works similarly to "),t("code",[e._v("keepModel")]),e._v(", but it's designed for traditional JavaBeans instead of JFinal's Model. However, if a Model class has setter methods (e.g., generated using a code generator), you can also use "),t("code",[e._v("keepBean")]),e._v(" for it.")]),e._v(" "),t("p",[e._v("The key difference is that both "),t("code",[e._v("keepModel")]),e._v(" and "),t("code",[e._v("keepBean")]),e._v(" retain not just the values but also their original types. This means you don't need to specify types explicitly, making it easier to work with form data in the application logic and templates.")]),e._v(" "),t("p",[e._v("In summary, JFinal's "),t("code",[e._v("keep")]),e._v(" series methods make it convenient to handle form submissions, especially in scenarios where user input might be incomplete or erroneous. By retaining form data, you enhance the user experience, preventing users from re-entering all data from scratch.")])])}),[],!1,null,null,null);t.default=n.exports}}]);