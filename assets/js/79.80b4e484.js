(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{432:function(e,t,n){"use strict";n.r(t);var s=n(14),a=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"_4-3-before"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-before"}},[e._v("#")]),e._v(" 4.3 Before")]),e._v(" "),t("p",[e._v("The Before annotation is used to configure interceptors. This annotation can configure Class and Method level interceptors. Here's a code example:")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// Configures a Class-level interceptor, which will intercept all methods in this class\n@Before(AaaInter.class)\npublic class BlogController extends Controller {\n \n  // Configures multiple Method-level interceptors, only intercepting this method\n  @Before({BbbInter.class, CccInter.class})\n  public void index() {\n  }\n \n  // No Method-level interceptor configured, but it will be intercepted by the Class-level interceptor AaaInter\n  public void show() {\n  }\n}\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br"),t("span",{staticClass:"line-number"},[e._v("13")]),t("br")])]),t("p",[e._v("As shown in the code above, the Before annotation can configure interceptors at the Class and Method levels. The former intercepts all methods in this class, and the latter only intercepts this method. Additionally, Before can configure multiple interceptors at once. You just need to separate multiple interceptors with commas inside curly braces.")]),e._v(" "),t("p",[e._v("In addition to Class and Method level interceptors, JFinal also supports global interceptors and Routes interceptors. Global interceptors are divided into global control layer interceptors and global business layer interceptors. The former intercepts all Action methods in the control layer, while the latter intercepts all methods in the business layer.")]),e._v(" "),t("p",[e._v("Global interceptors need to be configured in YourJFinalConfig. Here's a configuration example:")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("public class YourJFinalConfig extends JFinalConfig {\n   public void configInterceptor(Interceptors me) {\n      // Add a global control layer interceptor\n      me.addGlobalActionInterceptor(new GlobalActionInterceptor());\n  \n      // Add a global business layer interceptor\n      me.addGlobalServiceInterceptor(new GlobalServiceInterceptor());\n  \n      // A method retained for backward compatibility; its function is exactly the same as addGlobalActionInterceptor\n      me.add(new GlobalActionInterceptor());\n   }\n}\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br")])]),t("p",[e._v("When a Method is intercepted by multiple level interceptors, the order of execution for each level is as follows: Global, Routes, Class, Method. If there are multiple interceptors at the same level, the order of execution within the same level is: those configured earlier execute first.")])])}),[],!1,null,null,null);t.default=a.exports}}]);