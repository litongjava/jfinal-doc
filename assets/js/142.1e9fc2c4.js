(window.webpackJsonp=window.webpackJsonp||[]).push([[142],{505:function(s,e,n){"use strict";n.r(e);var a=n(14),t=Object(a.a)({},(function(){var s=this,e=s._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"_11-2-i18n与res"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_11-2-i18n与res"}},[s._v("#")]),s._v(" 11.2 I18n与Res")]),s._v(" "),e("p",[s._v("I18n对象可通过资源文件的baseName与locale参数获取到与之相对应的Res对象，Res对象提供了API用来获取国际化数据。")]),s._v(" "),e("p",[s._v("以下给出具体使用步骤：")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("创建i18n_en_US.properties、i18n_zh_CN.properties资源文件，i18n即为资源文件的baseName，可以是任意名称，在此示例中使用”i18n”作为baseName")])]),s._v(" "),e("li",[e("p",[s._v("i18n_en_US.properties文件中添加如下内容")])])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("msg=Hello {0}, today is{1}.\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("i18n_zh_CN.properties文件中添加如下内容")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("msg=你好{0}, 今天是{1}.\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v('在YourJFinalConfig中使用me.setI18nDefaultBaseName("i18n")配置资源文件默认baseName')])]),s._v(" "),e("p",[s._v("特别注意，java国际化规范要求properties文件的编辑需要使用专用的编辑器，否则会出乱码，常用的有Properties Editor，在此可以下载：http://www.oschina.net/p/properties+editor")]),s._v(" "),e("p",[s._v("以下是基于以上步骤以后的代码示例：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('// 通过locale参数en_US得到对应的Res对象\nRes resEn = I18n.use("en_US");\n// 直接获取数据\nString msgEn = resEn.get("msg");\n// 获取数据并使用参数格式化\nString msgEnFormat = resEn.format("msg", "james", new Date());\n \n// 通过locale参数zh_CN得到对应的Res对象\nRes resZh = I18n.use("zh_CN");\n// 直接获取数据\nString msgZh = resZh.get("msg");\n// 获取数据并使用参数格式化\nString msgZhFormat = resZh.format("msg", "詹波", new Date());\n \n// 另外,I18n还可以加载未使用me.setI18nDefaultBaseName()配置过的资源文件，唯一的不同是\n// 需要指定baseName参数，下面例子需要先创建otherRes_en_US.properties文件\nRes otherRes = I18n.use("otherRes", "en_US");\notherRes.get("msg");\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br")])]),e("p",[s._v("以下是在 jfinal template engine 中的使用示例：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('#(_res.get("msg"))\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("注意，上面的用法需要添加 I18nInterceptor，将在后面一小节进行介绍。")])])}),[],!1,null,null,null);e.default=t.exports}}]);