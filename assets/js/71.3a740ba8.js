(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{590:function(t,e,a){"use strict";a.r(e);var s=a(14),r=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"_3-4-get-getpara-series-methods"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-get-getpara-series-methods"}},[t._v("#")]),t._v(" 3.4 get & getPara series methods")]),t._v(" "),e("p",[t._v("The Controller provides the "),e("code",[t._v("getPara")]),t._v(" series of methods to obtain parameters from the request. The "),e("code",[t._v("getPara")]),t._v(" series is divided into two types. The first type includes the "),e("code",[t._v("getPara")]),t._v(" series of methods where the first parameter is of type String. This series of methods encapsulates the "),e("code",[t._v("HttpServletRequest.getParameter(String name)")]),t._v(" method, and they all call "),e("code",[t._v("HttpServletRequest.getParameter(String name)")]),t._v(".")]),t._v(" "),e("p",[t._v("The second type includes the "),e("code",[t._v("getPara")]),t._v(" series of methods where the first parameter is of type int or has no parameters. This series of methods retrieves the parameter value from "),e("code",[t._v("urlPara")]),t._v(". "),e("code",[t._v("getParaMap")]),t._v(" and "),e("code",[t._v("getParaNames")]),t._v(" correspond to "),e("code",[t._v("HttpServletRequest")]),t._v("'s "),e("code",[t._v("getParameterMap")]),t._v(" and "),e("code",[t._v("getParameterNames")]),t._v(", respectively.")]),t._v(" "),e("p",[e("strong",[t._v("Memory trick:")]),t._v(" The methods where the first parameter is a String will obtain field values from the form or URL parameters. Those with an int as the first parameter or no parameters will get the parameter values from "),e("code",[t._v("urlPara")]),t._v(".")]),t._v(" "),e("p",[t._v("Usage examples of "),e("code",[t._v("getPara")]),t._v(":")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Method Call")]),t._v(" "),e("th",[t._v("Return Value")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v('getPara("title")')])]),t._v(" "),e("td",[t._v('Returns the form field "title" parameter value.')])]),t._v(" "),e("tr",[e("td",[e("code",[t._v('getParaToInt("age")')])]),t._v(" "),e("td",[t._v('Returns the form field "age" parameter value and converts it to int type.')])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("getPara(0)")])]),t._v(" "),e("td",[t._v("Returns the first value of the URL's "),e("code",[t._v("urlPara")]),t._v(" parameter. For example, the request "),e("code",[t._v("http://localhost/controllerKey/method/v0-v1-v2")]),t._v(' will return "v0".')])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("getParaInt(1)")])]),t._v(" "),e("td",[t._v("Returns the second value of the URL's "),e("code",[t._v("urlPara")]),t._v(" parameter and converts it to int type. For example, the request "),e("code",[t._v("http://localhost/controllerKey/method/2-5-9")]),t._v(" will return 5.")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("getParaInt(2)")])]),t._v(" "),e("td",[t._v("For the request "),e("code",[t._v("http://localhost/controllerKey/method/2-5-N8")]),t._v(', this will return -8. Note: The letters "N" and "n" both represent a negative sign, which is useful when the '),e("code",[t._v("urlParaSeparator")]),t._v(' is "-".')])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("getPara()")])]),t._v(" "),e("td",[t._v("Returns the entire value of the URL's "),e("code",[t._v("urlPara")]),t._v(" parameter. For example, the request "),e("code",[t._v("http://localhost/controllerKey/method/v0-v1-v2")]),t._v(' will return "v0-v1-v2-v3".')])])])]),t._v(" "),e("p",[e("strong",[t._v("Important update in jfinal 3.6:")]),t._v(" JFinal 3.6 added shorter alternative methods to the "),e("code",[t._v("getPara")]),t._v(" and "),e("code",[t._v("getParaToXxx")]),t._v(" series of methods. Below are some usage examples:")]),t._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Replacing `getPara` with `get`")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" title "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"title"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Replacing `getParaToInt` with `getInt`")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),t._v(" age "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInt")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"age"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Replacing `setAttr` with `set`")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"article"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" article"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br")])]),e("p",[e("strong",[t._v("Important update in jfinal 3.5:")]),t._v(" JFinal 3.5 introduced the "),e("code",[t._v("getRawData()")]),t._v(" method, making it easy to retrieve String type data from the HTTP request body, typically in JSON or XML format, such as:")]),t._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" json "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRawData")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),t._v(" user "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FastJson")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getJson")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("json"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("p",[t._v("In the above code, "),e("code",[t._v("getRawData()")]),t._v(" retrieves the String-type JSON data sent from the client. The "),e("code",[t._v("getRawData()")]),t._v(" method can be called multiple times in a single request-response interaction without throwing an exception.")]),t._v(" "),e("p",[t._v("Note that when forwarding to another action using "),e("code",[t._v("forwardAction(...)")]),t._v(", "),e("code",[t._v("getRawData()")]),t._v(" cannot retrieve data. In this case, use "),e("code",[t._v('setAttr("rawData", getRawData())')]),t._v(" to pass the data to the target action being forwarded to, and then in the target action, retrieve it using "),e("code",[t._v('getAttr("rawData")')]),t._v(". This situation is rare.")])])}),[],!1,null,null,null);e.default=r.exports}}]);