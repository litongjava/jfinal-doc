(window.webpackJsonp=window.webpackJsonp||[]).push([[135],{488:function(a,s,e){"use strict";e.r(s);var t=e(14),n=Object(t.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"_1-7-tomcat-下部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-7-tomcat-下部署"}},[a._v("#")]),a._v(" 1.7 tomcat 下部署")]),a._v(" "),s("h3",{attrs:{id:"_0、检查-web-xml-配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_0、检查-web-xml-配置"}},[a._v("#")]),a._v(" 0、检查 web.xml 配置")]),a._v(" "),s("p",[a._v("少数同学开发时用的 jfinal-undertow，部署时用的 tomcat，而 jfinal-undertow 是不需要 web.xml 文件的，造成在 tomcat 部署失败。")]),a._v(" "),s("p",[a._v("因此，在 tomcat 下部署需要检查 web.xml 是否存在，并且要确保配置正确，配置格式如下：")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('<?xml version="1.0" encoding="UTF-8"?>\n<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://java.sun.com/xml/ns/javaee" xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" id="WebApp_ID" version="2.5">\n  <display-name>jfinal offical website</display-name>\n  \n  <filter>\n    <filter-name>jfinal</filter-name>\n    <filter-class>com.jfinal.core.JFinalFilter</filter-class>\n    <init-param>\n       <param-name>configClass</param-name>\n       <param-value>demo.DemoConfig</param-value>\n    </init-param>\n  </filter>\n  \n  <filter-mapping>\n    <filter-name>jfinal</filter-name>\n    <url-pattern>/*</url-pattern>\n  </filter-mapping>\n \n</web-app>\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br"),s("span",{staticClass:"line-number"},[a._v("17")]),s("br"),s("span",{staticClass:"line-number"},[a._v("18")]),s("br"),s("span",{staticClass:"line-number"},[a._v("19")]),s("br")])]),s("p",[a._v("注意：其中的 para-value 配置取决于你项目的具体 XxxConfig 的包名与类名，注意修改，其它配置可原封不动进行复制。")]),a._v(" "),s("h3",{attrs:{id:"_1、指定打包类型为-war"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、指定打包类型为-war"}},[a._v("#")]),a._v(" 1、指定打包类型为 war")]),a._v(" "),s("p",[a._v("修改 pom.xml 文件，其中的 packaging 标签值要改成 war")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("<packaging>war</packaging>\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"_2、删掉-jfinal-undertow-和-jetty-server-依赖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、删掉-jfinal-undertow-和-jetty-server-依赖"}},[a._v("#")]),a._v(" 2、删掉 jfinal-undertow 和 jetty-server 依赖")]),a._v(" "),s("p",[a._v("修改 pom.xml 文件，将 jfinal-undertow 和 jetty-server 有关依赖全部删除，否则部署到 tomcat 中会产生冲突")]),a._v(" "),s("h3",{attrs:{id:"_3、添加-servlet-api-依赖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、添加-servlet-api-依赖"}},[a._v("#")]),a._v(" 3､添加 servlet api 依赖")]),a._v(" "),s("p",[a._v("如果你的项目代码中用到了 servlet api 那么还要添加如下依赖才能打包")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("<dependency>\n    <groupId>javax.servlet</groupId>\n    <artifactId>javax.servlet-api</artifactId>\n    <version>4.0.1</version>\n    <scope>provided</scope>\n</dependency>\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])]),s("p",[a._v("这个依赖可以在打包出现提示时再添加，如果打包通过可以不用理会。")]),a._v(" "),s("h3",{attrs:{id:"_4、打包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4、打包"}},[a._v("#")]),a._v(" 4、打包")]),a._v(" "),s("p",[a._v("控制台 cd 进入项目根目录执行下面命令打出 war 包")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("mvn clean package\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"_5、部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5、部署"}},[a._v("#")]),a._v(" 5、部署")]),a._v(" "),s("p",[a._v("jfinal 开发的项目就是标准的 java web 项目，所以部署方式没有任何特殊的地方，有一些部署方面要注意的小技巧，见这篇博文：https://my.oschina.net/jfinal/blog/353062")]),a._v(" "),s("p",[a._v("注意：本小节仅介绍了在 jfinal-undertow 或 jetty-server 之下开发，在 tomcat 下部署的方式，这两种方式下才需要删掉其依赖。如果采用传统的 java web 开发方式，无需关注此章节。尤其要注意特别声明：https://www.jfinal.com/doc/1-11")])])}),[],!1,null,null,null);s.default=n.exports}}]);